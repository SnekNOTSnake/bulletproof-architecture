{"version":3,"sources":["webpack://@bulletproof/client/./src/components/Login/Login.style.ts","webpack://@bulletproof/client/./src/components/Login/Login.tsx","webpack://@bulletproof/client/./src/components/Login/index.ts"],"names":["makeStyles","theme","alert","marginBottom","spacing","oAuthBox","oAuthButton","marginRight","input","cookie","Cookie","email","setEmail","React","pass","setPass","error","setError","classes","useStyles","Box","Grid","container","item","md","xs","Card","onSubmit","async","e","preventDefault","token","axios","password","data","authData","set","window","location","href","err","response","message","CardHeader","title","CardContent","Alert","onClose","className","severity","Link","Button","color","variant","TextField","fullWidth","label","value","onChange","currentTarget","type","CardActions","Typography","component","to"],"mappings":"uTAEA,SAAeA,E,QAAAA,IAAYC,IAAD,CACzBC,MAAO,CACNC,aAAcF,EAAMG,QAAQ,IAE7BC,SAAU,CACTF,aAAcF,EAAMG,QAAQ,IAE7BE,YAAa,CACZC,YAAaN,EAAMG,QAAQ,IAE5BI,MAAO,CACNL,aAAcF,EAAMG,QAAQ,QCMxBK,EAAS,IAAIC,ICjBnB,ED0BwB,KACvB,MAAOC,EAAOC,GAAYC,WAAuB,KAC1CC,EAAMC,GAAWF,WAAuB,KACxCG,EAAOC,GAAYJ,aAqBpBK,EAAUC,IAEhB,OACC,gBAACC,EAAA,EAAD,KACC,gBAACC,EAAA,EAAD,CAAMC,WAAS,GACd,gBAACD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGC,GAAI,IACrB,gBAACC,EAAA,EAAD,KACC,wBAAMC,SAvBMC,UAChB,IACCC,EAAEC,iBAOF,OAzBYC,SAoBMC,SAAW,wCAAyC,CACrErB,QACAsB,SAAUnB,KAGMoB,KAAKC,SAASJ,MAxBjCtB,EAAO2B,IAAI,MAAOL,QAClBM,OAAOC,SAASC,KAAO,KAwBpB,MAAOC,GACRvB,EAASuB,EAAIC,SAASP,KAAKQ,SAC3B3B,EAAQ,IA5BIgB,QAwCR,gBAACY,EAAA,EAAD,CAAYC,MAAM,UAClB,gBAACC,EAAA,EAAD,KACE7B,EACA,gBAAC8B,EAAA,EAAD,CACCC,QAAS,IAAM9B,EAAS,IACxB+B,UAAW9B,EAAQhB,MACnB+C,SAAS,SAERjC,GAGF,GAED,gBAACI,EAAA,EAAD,CAAK4B,UAAW9B,EAAQb,UACvB,gBAAC6C,EAAA,EAAD,CACCF,UAAW9B,EAAQZ,YACnBiC,KAAK,yCAEL,gBAACY,EAAA,EAAD,CAAQC,MAAM,UAAUC,QAAQ,aAAhC,WAID,gBAACH,EAAA,EAAD,CACCF,UAAW9B,EAAQZ,YACnBiC,KAAK,yCAEL,gBAACY,EAAA,EAAD,CAAQC,MAAM,UAAUC,QAAQ,aAAhC,YAKF,gBAACC,EAAA,EAAD,CACCN,UAAW9B,EAAQV,MACnB+C,WAAS,EACTF,QAAQ,WACRG,MAAM,QACNC,MAAO9C,EACP+C,SAhEe7B,GAAmBjB,EAASiB,EAAE8B,cAAcF,SAkE5D,gBAACH,EAAA,EAAD,CACCN,UAAW9B,EAAQV,MACnB+C,WAAS,EACTK,KAAK,WACLP,QAAQ,WACRG,MAAM,WACNC,MAAO3C,EACP4C,SAxEc7B,GAAmBd,EAAQc,EAAE8B,cAAcF,UA2E3D,gBAACI,EAAA,EAAD,KACC,gBAACV,EAAA,EAAD,CAAQE,QAAQ,YAAYD,MAAM,UAAUQ,KAAK,UAAjD,UAGA,gBAACE,EAAA,EAAD,8BACwB,IACvB,gBAACZ,EAAA,EAAD,CAAea,UAAWb,KAAMc,GAAG,WAAnC,WAFD","file":"16.bundle.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles'\n\nexport default makeStyles((theme) => ({\n\talert: {\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\toAuthBox: {\n\t\tmarginBottom: theme.spacing(3),\n\t},\n\toAuthButton: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tinput: {\n\t\tmarginBottom: theme.spacing(2),\n\t},\n}))\n","import React from 'react'\nimport axios from 'axios'\nimport Cookie from 'universal-cookie'\nimport { Link } from 'react-router-dom'\n\nimport Alert from '@material-ui/lab/Alert'\nimport Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Button from '@material-ui/core/Button'\nimport LinkComponent from '@material-ui/core/Link'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\n\nimport useStyles from './Login.style'\n\nconst cookie = new Cookie()\nconst login = (token: string) => {\n\tcookie.set('jwt', token)\n\twindow.location.href = '/'\n}\n\ntype InputChange = React.ChangeEvent<HTMLInputElement>\ntype FormSubmit = React.FormEvent<HTMLFormElement>\n\nconst Login: React.FC = () => {\n\tconst [email, setEmail] = React.useState<string>('')\n\tconst [pass, setPass] = React.useState<string>('')\n\tconst [error, setError] = React.useState<string | undefined>()\n\n\tconst onEmailChange = (e: InputChange) => setEmail(e.currentTarget.value)\n\tconst onPassChange = (e: InputChange) => setPass(e.currentTarget.value)\n\n\tconst onSubmit = async (e: FormSubmit) => {\n\t\ttry {\n\t\t\te.preventDefault()\n\n\t\t\tconst res = await axios.post('http://localhost:4200/api/auth/signin', {\n\t\t\t\temail,\n\t\t\t\tpassword: pass,\n\t\t\t})\n\n\t\t\treturn login(res.data.authData.token)\n\t\t} catch (err) {\n\t\t\tsetError(err.response.data.message)\n\t\t\tsetPass('')\n\t\t}\n\t}\n\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={6} xs={12}>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t\t\t\t<CardHeader title=\"Login\" />\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t{error ? (\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tonClose={() => setError('')}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.alert}\n\t\t\t\t\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Box className={classes.oAuthBox}>\n\t\t\t\t\t\t\t\t\t<LinkComponent\n\t\t\t\t\t\t\t\t\t\tclassName={classes.oAuthButton}\n\t\t\t\t\t\t\t\t\t\thref=\"http://localhost:4200/api/auth/google\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t\t\t\t\t\t\tGoogle\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</LinkComponent>\n\t\t\t\t\t\t\t\t\t<LinkComponent\n\t\t\t\t\t\t\t\t\t\tclassName={classes.oAuthButton}\n\t\t\t\t\t\t\t\t\t\thref=\"http://localhost:4200/api/auth/github\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t\t\t\t\t\t\tGitHub\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</LinkComponent>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\tonChange={onEmailChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\tvalue={pass}\n\t\t\t\t\t\t\t\t\tonChange={onPassChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" type=\"submit\">\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\tDon't have an account?{' '}\n\t\t\t\t\t\t\t\t\t<LinkComponent component={Link} to=\"/signup\">\n\t\t\t\t\t\t\t\t\t\tSign up\n\t\t\t\t\t\t\t\t\t</LinkComponent>\n\t\t\t\t\t\t\t\t\t!\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n\nexport default Login\n","import Login from './Login'\n\nexport default Login\n"],"sourceRoot":""}