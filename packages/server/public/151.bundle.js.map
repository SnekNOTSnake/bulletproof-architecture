{"version":3,"sources":["webpack://@bulletproof/client/./src/components/Login/Login.tsx","webpack://@bulletproof/client/./src/components/Login/index.ts"],"names":["cookie","Cookie","email","setEmail","React","pass","setPass","error","setError","className","href","type","onSubmit","async","e","preventDefault","token","axios","password","data","authData","set","window","location","err","response","message","style","color","name","value","onChange","currentTarget","placeholder","to"],"mappings":"0MAKA,MAAMA,EAAS,IAAIC,ICHnB,EDYwB,KACvB,MAAOC,EAAOC,GAAYC,WAAuB,KAC1CC,EAAMC,GAAWF,WAAuB,KACxCG,EAAOC,GAAYJ,aAqB1B,OACC,uBAAKK,UAAU,SACd,mCACA,2BACC,yCACA,qBAAGC,KAAK,yCACP,0BAAQC,KAAK,UAAb,WAED,qBAAGD,KAAK,yCACP,0BAAQC,KAAK,UAAb,YAGF,2BACC,wBAAMC,SA7BQC,UAChB,IACCC,EAAEC,iBAOF,OAzBYC,SAoBMC,SAAW,wCAAyC,CACrEf,QACAgB,SAAUb,KAGMc,KAAKC,SAASJ,MAxBjChB,EAAOqB,IAAI,MAAOL,QAClBM,OAAOC,SAASb,KAAO,KAwBpB,MAAOc,GACRhB,EAASgB,EAAIC,SAASN,KAAKO,SAC3BpB,EAAQ,IA5BIU,QA8CTT,EAAQ,uBAAKoB,MAAO,CAAEC,MAAO,QAAUrB,GAAe,GACvD,yBACCI,KAAK,OACLkB,KAAK,QACLC,MAAO5B,EACP6B,SAtCkBjB,GAAmBX,EAASW,EAAEkB,cAAcF,OAuC9DG,YAAY,UAEb,yBACCtB,KAAK,WACLkB,KAAK,WACLC,MAAOzB,EACP0B,SA5CiBjB,GAAmBR,EAAQQ,EAAEkB,cAAcF,OA6C5DG,YAAY,aAEb,0BAAQtB,KAAK,UAAb,WAED,mDACwB,gBAAC,KAAD,CAAMuB,GAAG,WAAT,UADxB","file":"151.bundle.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport Cookie from 'universal-cookie'\nimport { Link } from 'react-router-dom'\n\nconst cookie = new Cookie()\nconst login = (token: string) => {\n\tcookie.set('jwt', token)\n\twindow.location.href = '/'\n}\n\ntype InputChange = React.ChangeEvent<HTMLInputElement>\ntype FormSubmit = React.FormEvent<HTMLFormElement>\n\nconst Login: React.FC = () => {\n\tconst [email, setEmail] = React.useState<string>('')\n\tconst [pass, setPass] = React.useState<string>('')\n\tconst [error, setError] = React.useState<string | undefined>()\n\n\tconst onEmailChange = (e: InputChange) => setEmail(e.currentTarget.value)\n\tconst onPassChange = (e: InputChange) => setPass(e.currentTarget.value)\n\n\tconst onSubmit = async (e: FormSubmit) => {\n\t\ttry {\n\t\t\te.preventDefault()\n\n\t\t\tconst res = await axios.post('http://localhost:4200/api/auth/signin', {\n\t\t\t\temail,\n\t\t\t\tpassword: pass,\n\t\t\t})\n\n\t\t\treturn login(res.data.authData.token)\n\t\t} catch (err) {\n\t\t\tsetError(err.response.data.message)\n\t\t\tsetPass('')\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"Login\">\n\t\t\t<h2>Login</h2>\n\t\t\t<div>\n\t\t\t\t<h3>Login using</h3>\n\t\t\t\t<a href=\"http://localhost:4200/api/auth/google\">\n\t\t\t\t\t<button type=\"button\">Google</button>\n\t\t\t\t</a>\n\t\t\t\t<a href=\"http://localhost:4200/api/auth/github\">\n\t\t\t\t\t<button type=\"button\">GitHub</button>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t\t{error ? <div style={{ color: 'red' }}>{error}</div> : ''}\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={onEmailChange}\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tvalue={pass}\n\t\t\t\t\t\tonChange={onPassChange}\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button type=\"submit\">Submit</button>\n\t\t\t\t</form>\n\t\t\t\t<p>\n\t\t\t\t\tDon't have an account? <Link to=\"/signup\">Signup</Link>!\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Login\n","import Login from './Login'\n\nexport default Login\n"],"sourceRoot":""}